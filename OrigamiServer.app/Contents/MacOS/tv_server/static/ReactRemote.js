let getIP = ()=>{
  window.RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;//compatibility for Firefox and chrome
  var pc = new RTCPeerConnection({iceServers:[]}), noop = function(){};      
  pc.createDataChannel('');//create a bogus data channel
  pc.createOffer(pc.setLocalDescription.bind(pc), noop);// create offer and set local description
  pc.onicecandidate = function(ice)
  {
  if (ice && ice.candidate && ice.candidate.candidate)
  {
    console.log(ice)
    var myIP = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(ice.candidate.candidate)[1];
    return myIP
    //pc.onicecandidate = noop;
  }
  };
}

function StartSocket(){
  const socket = io(getIP());

  for(let commandKey in COMMANDS.key){
    let commandVal = COMMANDS.key[commandKey]
    let remoteButton = document.querySelector("." + commandVal)
    console.log(remoteButton)
    //if there's a node in the dom named with one of the values in the commands object, then attach socket listener.
    if(remoteButton){
      remoteButton.addEventListener("click",(e)=>{
        socket.emit(commandVal)
        console.log(commandVal)
      })      
    }

  }

}

//define your actual remote here.  
//You can add and remove command keys in commands.js.  You'll just need to reference them by their exact VALUE in Origami.
//Link your remote buttons below by adding the command value as a className to your remote button.



let ReactRemote = ()=>{
  return(<div>
    
<svg width="375px" height="653px" viewBox="0 0 375 653" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <rect id="path-1" x="0.5" y="0.845671067" width="191" height="54" rx="27"></rect>
        <rect id="path-3" x="0.5" y="0.845671067" width="339" height="378" rx="44"></rect>
    </defs>
    <g id="Page-1" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
        <g id="iPhone-XS" transform="translate(0.000000, -159.000000)">
            <g id="Remote" transform="translate(0.000000, 158.154329)">
                <path d="M12,0.845671067 L363,0.845671067 C369.627417,0.845671067 375,6.21825407 375,12.8456711 L375,656.845671 L0,656.845671 L0,12.8456711 C-8.11624501e-16,6.21825407 5.372583,0.845671067 12,0.845671067 Z" id="sheet_BG" fill="#1C1D1E"></path>
                <g id="vol" transform="translate(91.500000, 559.000000)">
                    <mask id="mask-2" fill="white">
                        <use xlinkHref="#path-1"></use>
                    </mask>
                    <use id="vol_mask" fill="#2C2D2E" xlinkHref="#path-1"></use>
                    <g className = {COMMANDS.key.volumeDn} id="volDn" mask="url(#mask-2)" fill="#FFFFFF">
                        <g transform="translate(0.500000, 0.845671)">
                            <path d="M27,0 L95.5,0 L95.5,54 L27,54 C12.0883118,54 1.82615513e-15,41.9116882 0,27 L7.10542736e-15,27 C5.27927223e-15,12.0883118 12.0883118,2.73923269e-15 27,0 Z" id="volDn_BG" fillOpacity="0.057145979" fillRule="evenodd"></path>
                            <path d="M58.3453869,28.3908978 L41.6546131,28.3908978 C40.8896193,28.3908978 40.2637153,27.7649938 40.2637153,27 C40.2637153,26.2350062 40.8896193,25.6091022 41.6546131,25.6091022 L58.3453869,25.6091022 C59.1103807,25.6091022 59.7362847,26.2350062 59.7362847,27 C59.7362847,27.7649938 59.1103807,28.3908978 58.3453869,28.3908978 Z" id="volDn_icon" fillOpacity="0.5" fillRule="nonzero"></path>
                        </g>
                    </g>
                    <g className = {COMMANDS.key.volumeUp} id="volUp" mask="url(#mask-2)" fill="#FFFFFF">
                        <g transform="translate(96.368142, 0.845671)">
                            <path d="M27,0 L95.5,0 L95.5,54 L27,54 C12.0883118,54 1.82615513e-15,41.9116882 0,27 L7.10542736e-15,27 C5.27927223e-15,12.0883118 12.0883118,2.73923269e-15 27,0 Z" id="volUp_BG" fillOpacity="0.057145979" fillRule="evenodd" transform="translate(47.750000, 27.000000) scale(-1, 1) translate(-47.750000, -27.000000) "></path>
                            <path d="M53.7747148,28.3571429 L46.9890005,28.3571429 L46.9890005,35.1428571 C46.9890005,35.8892857 46.3782862,36.5 45.6318576,36.5 C44.8854291,36.5 44.2747148,35.8892857 44.2747148,35.1428571 L44.2747148,28.3571429 L37.4890005,28.3571429 C36.7425719,28.3571429 36.1318576,27.7464286 36.1318576,27 C36.1318576,26.2535714 36.7425719,25.6428571 37.4890005,25.6428571 L44.2747148,25.6428571 L44.2747148,18.8571429 C44.2747148,18.1107143 44.8854291,17.5 45.6318576,17.5 C46.3782862,17.5 46.9890005,18.1107143 46.9890005,18.8571429 L46.9890005,25.6428571 L53.7747148,25.6428571 C54.5211433,25.6428571 55.1318576,26.2535714 55.1318576,27 C55.1318576,27.7464286 54.5211433,28.3571429 53.7747148,28.3571429 Z" id="volUp_icon" fillOpacity="0.5" fillRule="nonzero"></path>
                        </g>
                    </g>
                    <path d="M96.3681424,0.845671067 L96.3681424,54.8456711" id="volDivider" strokeOpacity="0.216619318" stroke="#1C1D1E" mask="url(#mask-2)"></path>
                </g>
                <g id="mute" transform="translate(17.104389, 557.995000)">
                    <circle id="mute_BG" fill="#2C2D2E" cx="28.8956107" cy="28.8506711" r="28"></circle>
                    <path d="M19.2276928,19.1835284 C18.7772163,19.6340049 18.7772163,20.3616976 19.2276928,20.8121741 L23.4552411,25.0397225 L23.1202714,25.3862428 L19.6550679,25.3862428 C19.0197805,25.3862428 18.5,25.9060234 18.5,26.5413107 L18.5,31.1615821 C18.5,31.7968695 19.0197805,32.31665 19.6550679,32.31665 L23.1202714,32.31665 L26.9204447,36.1168232 C27.6481375,36.844516 28.8956107,36.3247355 28.8956107,35.2967251 L28.8956107,30.4800921 L33.7237944,35.3082757 C33.1578111,35.7356509 32.5456252,36.0937219 31.8756858,36.3593875 C31.4598614,36.5326477 31.2057465,36.9715735 31.2057465,37.4220499 C31.2057465,38.2536988 32.048946,38.78503 32.8112908,38.4731617 C33.7353451,38.0919893 34.601646,37.5837594 35.3755414,36.9600228 L36.9233324,38.5078137 C37.3738088,38.9582902 38.1015016,38.9582902 38.5519781,38.5078137 C39.0024545,38.0573373 39.0024545,37.3296445 38.5519781,36.879168 L20.8678891,19.1835284 C20.4174126,18.733052 19.6897199,18.733052 19.2276928,19.1835284 Z M36.9810858,28.8514464 C36.9810858,29.7986021 36.8078256,30.7111057 36.5075079,31.5543052 L38.2747618,33.321559 C38.9215998,31.9701296 39.2912215,30.4569907 39.2912215,28.8514464 C39.2912215,24.4275365 36.5190586,20.6389139 32.6149293,19.1488764 C31.9334392,18.8832108 31.2057465,19.414542 31.2057465,20.1422347 L31.2057465,20.3616976 C31.2057465,20.8006234 31.4945134,21.1817958 31.9103379,21.3435053 C34.8788623,22.5447759 36.9810858,25.4555469 36.9810858,28.8514464 Z M26.9204447,21.5860696 L26.7240832,21.7824311 L28.8956107,23.9539587 L28.8956107,22.3946171 C28.8956107,21.3666067 27.6481375,20.8583768 26.9204447,21.5860696 Z M34.0934161,28.8514464 C34.0934161,26.8069763 32.9152469,25.0512731 31.2057465,24.1965229 L31.2057465,26.2640944 L34.0703148,29.1286627 C34.0818654,29.0362573 34.0934161,28.9438518 34.0934161,28.8514464 Z" id="mute_icon" fillOpacity="0.5" fill="#FFFFFF" fillRule="nonzero"></path>
                </g>
                <g id="cc" transform="translate(300.500000, 558.000000)">
                    <circle id="cc_BG" fill="#2C2D2E" cx="28.5" cy="28.8456711" r="28"></circle>
                    <path d="M37.25,18.8456711 L19.75,18.8456711 C18.3625,18.8456711 17.25,19.9706711 17.25,21.3456711 L17.25,36.3456711 C17.25,37.7206711 18.3625,38.8456711 19.75,38.8456711 L37.25,38.8456711 C38.625,38.8456711 39.75,37.7206711 39.75,36.3456711 L39.75,21.3456711 C39.75,19.9706711 38.625,18.8456711 37.25,18.8456711 Z M27.25,26.9706711 C27.25,27.3206711 26.975,27.5956711 26.625,27.5956711 L26,27.5956711 C25.65,27.5956711 25.375,27.3206711 25.375,26.9706711 L22.875,26.9706711 L22.875,30.7206711 L25.375,30.7206711 C25.375,30.3706711 25.65,30.0956711 26,30.0956711 L26.625,30.0956711 C26.975,30.0956711 27.25,30.3706711 27.25,30.7206711 L27.25,31.3456711 C27.25,32.0331711 26.6875,32.5956711 26,32.5956711 L22.25,32.5956711 C21.5625,32.5956711 21,32.0331711 21,31.3456711 L21,26.3456711 C21,25.6581711 21.5625,25.0956711 22.25,25.0956711 L26,25.0956711 C26.6875,25.0956711 27.25,25.6581711 27.25,26.3456711 L27.25,26.9706711 Z M36,26.9706711 C36,27.3206711 35.725,27.5956711 35.375,27.5956711 L34.75,27.5956711 C34.4,27.5956711 34.125,27.3206711 34.125,26.9706711 L31.625,26.9706711 L31.625,30.7206711 L34.125,30.7206711 C34.125,30.3706711 34.4,30.0956711 34.75,30.0956711 L35.375,30.0956711 C35.725,30.0956711 36,30.3706711 36,30.7206711 L36,31.3456711 C36,32.0331711 35.4375,32.5956711 34.75,32.5956711 L31,32.5956711 C30.3125,32.5956711 29.75,32.0331711 29.75,31.3456711 L29.75,26.3456711 C29.75,25.6581711 30.3125,25.0956711 31,25.0956711 L34.75,25.0956711 C35.4375,25.0956711 36,25.6581711 36,26.3456711 L36,26.9706711 Z" id="cc_icon" fillOpacity="0.5" fill="#FFFFFF" fillRule="nonzero"></path>
                </g>
                <g className = {COMMANDS.key.back} id="back" transform="translate(17.917500, 478.417500)">
                    <circle id="back_BG" fill="#2C2D2E" cx="28.0825" cy="28.4281711" r="28"></circle>
                    <path d="M24.7844755,34.1838183 L24.7844755,37.1904199 C24.7844755,37.4665623 24.5606179,37.6904199 24.2844755,37.6904199 C24.1663246,37.6904199 24.0519909,37.6485798 23.9617475,37.5723186 L19.0887021,33.4542943 C18.8777853,33.2760566 18.8512937,32.9605844 19.0295314,32.7496676 C19.047567,32.7283253 19.0673599,32.7085324 19.0887021,32.6904969 L23.9617475,28.5724726 C24.1726643,28.3942349 24.4881365,28.4207265 24.6663742,28.6316433 C24.7426354,28.7218867 24.7844755,28.8362204 24.7844755,28.9543713 L24.7844755,31.9716481 L31.2636099,31.9953246 L31.2904638,31.9953834 C34.6645914,31.9953834 37.3998623,29.2672741 37.3998623,25.9019807 C37.3998623,22.5191714 34.6503548,19.7768627 31.2586653,19.7768627 L18.5471744,19.7768627 L18.5471744,17.5647065 L31.2586653,17.5647065 C35.8753021,17.5647065 39.6178256,21.2974313 39.6178256,25.9019807 C39.6178256,30.4890142 35.8895387,34.2075396 31.2904638,34.2075396 L31.2538609,34.2074594 L24.7844755,34.1838183 Z" id="back_icon" fill="#979797" fillRule="nonzero" transform="translate(29.082500, 27.627563) scale(1, -1) translate(-29.082500, -27.627563) "></path>
                </g>
                <g className = {COMMANDS.key.home} id="home" transform="translate(159.500000, 478.845671)">
                    <circle id="home_BG" fill="#2C2D2E" cx="28" cy="28" r="28"></circle>
                    <path d="M25.3574378,37.3515754 L25.3574378,30.7469521 L30.6411364,30.7469521 L30.6411364,37.3515754 C30.6411364,38.0780839 31.2355525,38.6725 31.962061,38.6725 L35.924835,38.6725 C36.6513435,38.6725 37.2457596,38.0780839 37.2457596,37.3515754 L37.2457596,28.1051028 L39.4913315,28.1051028 C40.0989569,28.1051028 40.3895603,27.3521758 39.9272367,26.9558984 L28.8843066,17.0093358 C28.3823552,16.5602214 27.6162189,16.5602214 27.1142676,17.0093358 L16.0713375,26.9558984 C15.6222231,27.3521758 15.8996173,28.1051028 16.5072427,28.1051028 L18.7528146,28.1051028 L18.7528146,37.3515754 C18.7528146,38.0780839 19.3472307,38.6725 20.0737392,38.6725 L24.0365132,38.6725 C24.7630217,38.6725 25.3574378,38.0780839 25.3574378,37.3515754 Z" id="home_icon" fillOpacity="0.5" fill="#FFFFFF" fillRule="nonzero"></path>
                </g>
                <g id="keyboard" transform="translate(301.000000, 478.845671)">
                    <circle id="keyboard_BG" fill="#2C2D2E" cx="28" cy="28" r="28"></circle>
                    <path d="M39.4285714,18 L16.5714286,18 C15,18 13.7285714,19.2857143 13.7285714,20.8571429 L13.7142857,35.1428571 C13.7142857,36.7142857 15,38 16.5714286,38 L39.4285714,38 C41,38 42.2857143,36.7142857 42.2857143,35.1428571 L42.2857143,20.8571429 C42.2857143,19.2857143 41,18 39.4285714,18 Z M26.5714286,22.2857143 L29.4285714,22.2857143 L29.4285714,25.1428571 L26.5714286,25.1428571 L26.5714286,22.2857143 Z M26.5714286,26.5714286 L29.4285714,26.5714286 L29.4285714,29.4285714 L26.5714286,29.4285714 L26.5714286,26.5714286 Z M22.2857143,22.2857143 L25.1428571,22.2857143 L25.1428571,25.1428571 L22.2857143,25.1428571 L22.2857143,22.2857143 Z M22.2857143,26.5714286 L25.1428571,26.5714286 L25.1428571,29.4285714 L22.2857143,29.4285714 L22.2857143,26.5714286 Z M20.8571429,29.4285714 L18,29.4285714 L18,26.5714286 L20.8571429,26.5714286 L20.8571429,29.4285714 Z M20.8571429,25.1428571 L18,25.1428571 L18,22.2857143 L20.8571429,22.2857143 L20.8571429,25.1428571 Z M32.2857143,35.1428571 L23.7142857,35.1428571 C22.9285714,35.1428571 22.2857143,34.5 22.2857143,33.7142857 C22.2857143,32.9285714 22.9285714,32.2857143 23.7142857,32.2857143 L32.2857143,32.2857143 C33.0714286,32.2857143 33.7142857,32.9285714 33.7142857,33.7142857 C33.7142857,34.5 33.0714286,35.1428571 32.2857143,35.1428571 Z M33.7142857,29.4285714 L30.8571429,29.4285714 L30.8571429,26.5714286 L33.7142857,26.5714286 L33.7142857,29.4285714 Z M33.7142857,25.1428571 L30.8571429,25.1428571 L30.8571429,22.2857143 L33.7142857,22.2857143 L33.7142857,25.1428571 Z M38,29.4285714 L35.1428571,29.4285714 L35.1428571,26.5714286 L38,26.5714286 L38,29.4285714 Z M38,25.1428571 L35.1428571,25.1428571 L35.1428571,22.2857143 L38,22.2857143 L38,25.1428571 Z" id="keyboard_icon" fillOpacity="0.5" fill="#FFFFFF" fillRule="nonzero"></path>
                </g>
                <g id="power" transform="translate(17.496407, 21.000000)">
                    <circle id="power_BG" fill="#343437" cx="18.5035926" cy="18.8456711" r="18"></circle>
                    <path d="M18.5035926,9 C17.9535926,9 17.5035926,9.45 17.5035926,10 L17.5035926,18 C17.5035926,18.55 17.9535926,19 18.5035926,19 C19.0535926,19 19.5035926,18.55 19.5035926,18 L19.5035926,10 C19.5035926,9.45 19.0535926,9 18.5035926,9 Z M23.6335926,13.25 C24.7635926,14.45 25.4635926,16.05 25.5035926,17.82 C25.5935926,21.65 22.4235926,24.95 18.5935926,24.99 C14.6835926,25.05 11.5035926,21.9 11.5035926,18 C11.5035926,16.16 12.2135926,14.49 13.3735926,13.24 C13.7435926,12.85 13.7435926,12.24 13.3635926,11.86 C12.9635926,11.46 12.3135926,11.47 11.9335926,11.88 C10.4835926,13.42 9.57359261,15.47 9.50359261,17.74 C9.36359261,22.62 13.3335926,26.84 18.2135926,26.99 C23.3135926,27.15 27.5035926,23.06 27.5035926,17.99 C27.5035926,15.62 26.5835926,13.48 25.0835926,11.88 C24.7035926,11.47 24.0435926,11.46 23.6435926,11.86 C23.2535926,12.25 23.2635926,12.86 23.6335926,13.25 Z" id="power_icon" fillOpacity="0.5" fill="#FFFFFF" fillRule="nonzero"></path>
                </g>
                <g id="mute" transform="translate(35.500000, 575.845671)"></g>
                <g id="dpad" transform="translate(17.500000, 75.000000)">
                    <mask id="mask-4" fill="white">
                        <use xlinkHref="#path-3"></use>
                    </mask>
                    <use id="dpad_mask" fill="#2C2D2E" xlinkHref="#path-3"></use>
                    <g className = {COMMANDS.key.left} id="left" mask="url(#mask-4)">
                        <g transform="translate(-207.738023, 2.213813)">
                            <path d="M317,55 L317,237 C317,281.18278 281.18278,317 237,317 L55,317 L317,55 Z" id="left_BG" fill="#3E3E3E" fillRule="evenodd" transform="translate(186.000000, 186.000000) scale(1, -1) rotate(-45.000000) translate(-186.000000, -186.000000) "></path>
                            <path d="M277.754421,195.516392 C278.94739,196.211511 280.477988,195.807924 281.173107,194.614955 C281.868226,193.421986 281.464639,191.891389 280.27167,191.19627 L263.956997,181.690039 C261.52647,180.27382 258.530729,180.238214 256.067228,181.596265 L238.706,191.166965 C237.496846,191.833533 237.056994,193.354106 237.723562,194.56326 C238.390131,195.772413 239.910704,196.212265 241.119857,195.545697 L255.998921,187.343336 C258.462422,185.985285 261.458163,186.020891 263.88869,187.437111 L277.754421,195.516392 Z" id="left_icon" fill="#979797" fillRule="nonzero" transform="translate(259.462959, 187.631858) rotate(-90.000000) translate(-259.462959, -187.631858) "></path>
                        </g>
                    </g>
                    <g className = {COMMANDS.key.up} id="up" mask="url(#mask-4)">
                        <g transform="translate(-16.000000, -194.000000)">
                            <path d="M317,55 L317,237 C317,281.18278 281.18278,317 237,317 L55,317 L317,55 Z" id="up_BG" fill="#3E3E3E" fillRule="evenodd" transform="translate(186.000000, 186.000000) rotate(-315.000000) translate(-186.000000, -186.000000) "></path>
                            <path d="M204.291462,272.955142 C205.484431,273.650261 207.015028,273.246674 207.710147,272.053705 C208.405266,270.860736 208.001679,269.330138 206.80871,268.635019 L190.494038,259.128789 C188.06351,257.712569 185.06777,257.676963 182.604269,259.035014 L165.24304,268.605715 C164.033887,269.272283 163.594035,270.792856 164.260603,272.002009 C164.927171,273.211163 166.447744,273.651015 167.656898,272.984446 L182.535961,264.782086 C184.999463,263.424035 187.995203,263.459641 190.425731,264.87586 L204.291462,272.955142 Z" id="up_icon" fill="#979797" fillRule="nonzero"></path>
                        </g>
                    </g>
                    <g className = {COMMANDS.key.right} id="right" mask="url(#mask-4)">
                        <g transform="translate(175.261977, 2.213813)">
                            <path d="M317,55 L317,237 C317,281.18278 281.18278,317 237,317 L55,317 L317,55 Z" id="right_BG" fill="#3E3E3E" fillRule="evenodd" transform="translate(186.000000, 186.000000) scale(-1, -1) rotate(-45.000000) translate(-186.000000, -186.000000) "></path>
                            <path d="M131.754421,195.516392 C132.94739,196.211511 134.477988,195.807924 135.173107,194.614955 C135.868226,193.421986 135.464639,191.891389 134.27167,191.19627 L117.956997,181.690039 C115.52647,180.27382 112.530729,180.238214 110.067228,181.596265 L92.7059997,191.166965 C91.4968463,191.833533 91.0569942,193.354106 91.7235625,194.56326 C92.3901308,195.772413 93.9107037,196.212265 95.1198571,195.545697 L109.998921,187.343336 C112.462422,185.985285 115.458163,186.020891 117.88869,187.437111 L131.754421,195.516392 Z" id="right_icon" fill="#979797" fillRule="nonzero" transform="translate(113.462959, 187.631858) scale(-1, 1) rotate(-90.000000) translate(-113.462959, -187.631858) "></path>
                        </g>
                    </g>
                    <g className = {COMMANDS.key.ok} id="ok" mask="url(#mask-4)">
                        <g transform="translate(131.868142, 149.713813)">
                            <circle id="ok_BG" fill="#3E3E3E" fillRule="evenodd" cx="38.1318576" cy="38.1318576" r="38.1318576"></circle>
                            <text id="OK" fill="none" fontFamily="Roboto-Bold, Roboto" fontSize="21" fontWeight="bold" letterSpacing="0.2081416">
                                <tspan x="23.6318576" y="45.1318576" fill="#979797">OK</tspan>
                            </text>
                        </g>
                    </g>
                    <g className = {COMMANDS.key.down} id="down" mask="url(#mask-4)">
                        <g transform="translate(-16.000000, 197.845671)">
                            <path d="M317,55 L317,237 C317,281.18278 281.18278,317 237,317 L55,317 L317,55 Z" id="down_BG" fill="#3E3E3E" fillRule="evenodd" transform="translate(186.000000, 186.000000) scale(1, -1) rotate(-315.000000) translate(-186.000000, -186.000000) "></path>
                            <path d="M204.291462,118.109471 C205.484431,118.80459 207.015028,118.401003 207.710147,117.208034 C208.405266,116.015065 208.001679,114.484467 206.80871,113.789348 L190.494038,104.283118 C188.06351,102.866898 185.06777,102.831292 182.604269,104.189343 L165.24304,113.760044 C164.033887,114.426612 163.594035,115.947185 164.260603,117.156338 C164.927171,118.365492 166.447744,118.805344 167.656898,118.138775 L182.535961,109.936415 C184.999463,108.578364 187.995203,108.61397 190.425731,110.030189 L204.291462,118.109471 Z" id="down_icon" fill="#979797" fillRule="nonzero" transform="translate(186.000000, 110.224936) scale(1, -1) translate(-186.000000, -110.224936) "></path>
                        </g>
                    </g>
                </g>
                <text id="title" fontFamily="Roboto-Bold, Roboto" fontSize="17" fontWeight="bold" letterSpacing="0.20814164" fill="#FFFFFF">
                    <tspan x="144.5" y="45.8456711">TV Remote</tspan>
                </text>
            </g>
        </g>
    </g>
</svg>
  </div>)
}


ReactDOM.render(<ReactRemote />,document.querySelector("#root"))
StartSocket()